\section{Use cases for Sales}

\begin{ucbox}{\subsubsection{UCSO001: List Sale Orders}}
\label{UCSO001}

Actors: System, Client

\textbf{Preconditions:}

\ucitem None.

\textbf{Event flow:}

\ucitem The Client calls the List Sale Orders.

\ucitem The System responds with a list of the sale orders recorded in the System. If there are no sale orders in the System, the response is an empty list.

\textbf{Postconditions:}

\ucitem None.

\end{ucbox}

\begin{ucbox}{\subsubsection{UCSO002: List Sale Orders by Customer}}
\label{UCSO002}

Actors: System, Client

\textbf{Preconditions:}

\ucitem The customer \textit{cid} exists.

\textbf{Event flow:}

\ucitem The Client calls the List Sale Orders by Customer providing the ID (\textit{cid}) of the customer whose orders have to be listed.
\ucitem The System responds with a list of the sale orders recorded in the System for the customer \textit{cid}. If there are no sale orders in the System for the customer \textit{cid}, the 
response is an empty list.

\textbf{Postconditions:}

\ucitem None.

\end{ucbox}

\begin{ucbox}{\subsubsection{UCSO003: Describe Sale Order}}
\label{UCSO003}

Actors: System, Client

\textbf{Preconditions:}

\ucitem The sale order \textit{soid} exists.

\textbf{Event flow:}

\ucitem The Client calls the Describe Sale Order endpoint providing the ID (\textit{soid}) of the sale order.

\ucitem The System responds with the description (its attributes and values) of the sale order \textit{soid}.

\textbf{Postconditions:}

\ucitem None.

\end{ucbox}

\begin{ucbox}{\subsubsection{UCSO004: Create Sale Order}}
\label{UCSO004}

Actors: System, Client

\textbf{Preconditions:}

\ucitem The customer \textit{cid} exists.

\textbf{Event flow:}

\ucitem The Client calls the Create Sale Order endpoint providing all the values for the mandatory attributes and optionally the values for the optional ones.

\ucitem The System responds with the ID (\textit{soid}) of the newly created sale order.

\textbf{Postconditions:}

\ucitem The sale order described in the adding call exists in the System with the ID \textit{soid}.

\end{ucbox}

\begin{ucbox}{\subsubsection{UCSO005: Edit Sale Order}}
\label{UCSO005}

Actors: System, Client

\textbf{Preconditions:}

\ucitem The sale order \textit{soid} exists.

\ucitem The customer \textit{cid} exists (if modified).

\textbf{Event flow:}

\ucitem The Client calls the Edit Sale Order endpoint providing the sale order ID (\textit{soid}) and all the values for the mandatory attributes and optionally the values for the 
optional ones.

\ucitem The System responds with the ID (\textit{soid}) of the modified sale order.

\textbf{Postconditions:}

\ucitem The attribute values for the sale order \textit{soid} are the ones provided in the modifying call.

\end{ucbox}

\begin{ucbox}{\subsubsection{UCSO006: Close Sale Order}}
\label{UCSO006}

Actors: System, Client

\textbf{Preconditions:}

\ucitem The sale order \textit{soid} exists and its state is open.

\textbf{Event flow:}

\ucitem The Client calls the Close Sale Order endpoint providing the sale order ID (\textit{soid}).

\ucitem The System responds with no errors.

\textbf{Postconditions:}

\ucitem The sale order \textit{soid}’s state is closed.

\end{ucbox}

\begin{ucbox}{\subsubsection{UCSO007: Open Sale Order}}
\label{UCSO007}

Actors: System, Client

\textbf{Preconditions:}

\ucitem The sale order \textit{soid} exists and its state is closed.

\textbf{Event flow:}

\ucitem The Client calls the Open Sale Order endpoint providing the sale order ID (\textit{soid}).

\ucitem The System responds with no errors.

\textbf{Postconditions:}

\ucitem The sale order \textit{soid}’s state is open.

\end{ucbox}

\begin{ucbox}{\subsubsection{UCSO008: Delete Sale Order}}
\label{UCSO008}

Actors: System, Client

\textbf{Preconditions:}

\ucitem The sale order \textit{soid} exists and its state is closed.

\textbf{Event flow:}

\ucitem The Client calls the Delete Sale Order endpoint providing the ID (\textit{soid}) of the sale order to delete.

\ucitem The System responds with no errors.

\textbf{Postconditions:}

\ucitem The sale order \textit{soid} has been deleted and no longer exists in the system.

\end{ucbox}

\begin{ucbox}{\subsubsection{UCSO009: List Sale Lines from Sale Order}}
\label{UCSO009}

Actors: System, Client

\textbf{Preconditions:}

\ucitem The sale order \textit{soid} exists.

\textbf{Event flow:}

\ucitem The Client calls the List Sale Lines from Sale Order providing the ID (\textit{soid}) of the sale order which lines have to be listed.

\ucitem The System responds with a list of the sale lines belonging to the sale order \textit{soid}. If the sale order has no lines, the response is an empty list.

\textbf{Postconditions:}

\ucitem None.

\end{ucbox}

\begin{ucbox}{\subsubsection{UCSO010: List Sale Lines by Product}}
\label{UCSO010}

Actors: System, Client

\textbf{Preconditions:}

\ucitem The product \textit{pid} exists.

\textbf{Event flow:}

\ucitem The Client calls the List Sale Lines by Product providing the ID (\textit{pid}) of the product from which to list Sale Lines.

\ucitem The System responds with a list of all the Sale Lines for the product \textit{pid}. If the product has no sales, the response is an empty list.

\textbf{Postconditions:}

\ucitem None.

\end{ucbox}

\begin{ucbox}{\subsubsection{UCSO011: Describe Sale Line}}
\label{UCSO011}

Actors: System, Client

\textbf{Preconditions:}

\ucitem The sale line \textit{slid} exists.

\textbf{Event flow:}

\ucitem The Client calls the Describe Sale Line endpoint providing the ID (\textit{slid}) of the sale line.

\ucitem The System responds with the description (its attributes and values) of the purchase line \textit{plid}.

\textbf{Postconditions:}

\ucitem None.

\end{ucbox}

\begin{ucbox}{\subsubsection{UCSO012: Create Sale Line}}
\label{UCSO012}

Actors: System, Client

\textbf{Preconditions:}

\ucitem The sale order \textit{poid} exists (if assigned).

\ucitem The product \textit{pid} exists.

\textbf{Event flow:}

\ucitem The Client calls the Create Sale Line endpoint providing the ID (\textit{pid}) of the product to purchase and optionally the ID (\textit{soid}) of the sale order the line has to be 
assigned to.

\ucitem The System responds with the ID (\textit{slid}) of the newly created sale line.

\textbf{Postconditions:}

\ucitem The sale line described in the adding call exists in the System with the ID \textit{slid}.

\end{ucbox}

\begin{ucbox}{\subsubsection{UCSO013: Edit Sale Line}}
\label{UCSO013}

Actors: System, Client

\textbf{Preconditions:}

\ucitem The sale line \textit{plid} exists.

\ucitem The product \textit{pid} exists (if modified).

\ucitem The sale order \textit{soid} exists (if assigned/modified).

\textbf{Event flow:}

\ucitem The Client calls the Edit Sale Line endpoint providing the sale line ID (\textit{slid}) and all the values for the mandatory attributes and optionally the values for the optional 
ones.

\ucitem The System responds with the ID (\textit{slid}) of the modified sale line.

\textbf{Postconditions:}

\ucitem The attribute values for the sale line \textit{slid} are the ones provided in the modifying call.

\end{ucbox}

\begin{ucbox}{\subsubsection{UCSO014: Assign Sale Line to Sale Order}}
\label{UCSO014}

Actors: System, Client

\textbf{Preconditions:}

\ucitem The sale order \textit{soid} exists and its state is open.

\ucitem The sale line \textit{slid} exists.

\textbf{Event flow:}

\ucitem The Client calls the Assign Sale Line to Sale Order endpoint providing the sale order ID (\textit{soid}) to which the line has to be assigned and the sale line ID (\textit{slid}) of the line to be assigned.

\ucitem The System responds with no errors.

\textbf{Postconditions:}

\ucitem The sale line \textit{slid} is assigned to the sale order \textit{soid}.

\end{ucbox}

\begin{ucbox}{\subsubsection{UCSO015: Acknowledge Sale Line}}
\label{UCSO015}

Actors: System, Client

\textbf{Preconditions:}

\ucitem The sale line \textit{slid} exists and is for a quantity \textit{q}.

\ucitem The product \textit{pid} exists.

\ucitem The quantity \textit{q} is less or equal to the stock of product \textit{pid}.

\textbf{Event flow:}

\ucitem The Client calls the Acknowledge Sale Line endpoint providing the ID (\textit{plid}) of the sale line to acknowledge.

\ucitem The System responds with no errors.

\textbf{Postconditions:}

\ucitem The purchase line \textit{plid} state is ‘acknowledged’.

\ucitem The stock of the product \textit{pid} has decreased by \textit{q}.

\end{ucbox}

\begin{ucbox}{\subsubsection{UCSO016: Delete Sale Line}}
\label{UCSO016}

Actors: System, Client

\textbf{Preconditions:}

\ucitem The sale line \textit{slid} exists.

\textbf{Event flow:}

\ucitem The Client calls the Delete Sale Line endpoint providing the ID (\textit{slid}) of the sale line to delete.

\ucitem The System responds with no errors.

\textbf{Postconditions:}

\ucitem The sale line \textit{slid} has been deleted and no longer exists in the system.

\end{ucbox}
\newpage